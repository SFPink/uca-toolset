import{j as n,l as W,c as v,b as p,r as k}from"./vendor.6311163c.js";import{S,u as M}from"./index.5da7fa25.js";function Y(e){return n("input",{type:"checkbox",className:"w-4 h-4 bg-gray-100 rounded border-gray-300 mr-3",...e})}function z({onEnterPress:e,onChange:a,onKeyDown:t=null,...s}){const r=l=>{l.key==="Enter"&&e&&typeof e=="function"&&e(l),t&&typeof t=="function"&&t(l)};return n(W.DebounceInput,{minLength:2,debounceTimeout:300,onKeyDown:r,onChange:a,className:"w-full md:flex-1 py-2 pl-2 border-b border-gray-400 focus:border-gray-900 text-sm text-gray-600 placeholder-gray-400 outline-none rounded",...s})}function H({options:e=[],...a}){return n("select",{className:"w-full md:flex-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded p-2.5",...a,children:e.map(t=>{var l,o;const s=(l=t.value)!=null?l:t,r=(o=t.label)!=null?o:t;return n("option",{value:s,children:r},s)})})}function C({children:e,...a}){return n("label",{className:"block w-full mb-3 md:w-1/3 mr-6 text-left text-gray-300",...a,children:e})}var I=(e=>(e[e.warning=0]="warning",e[e.success=1]="success",e))(I||{});function U({children:e,type:a,title:t}){const s=v({"border-t-4 rounded px-4 py-3 shadow-md mb-5":!0,"bg-red-100 border-red-500 text-red-900":a===0,"bg-teal-100 border-teal-500 text-teal-900":a===1}),r=v({"fill-current h-6 w-6 mr-4":!0,"text-red-900":a===0,"text-teal-900":a===1});return n("div",{className:s,role:"alert",children:p("div",{className:"flex items-center",children:[n("div",{className:"py-1",children:n("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:n("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),p("div",{children:[n("p",{className:"font-bold",children:t}),n("p",{className:"text-sm",children:e})]})]})})}const A={rewards:{start:362,end:379},kickoff:{start:358,end:375}},O=[{display_name:"Small Land Plot Claim CM",base:7.05,epochs:{362:12.85,363:12.68,364:12.5,365:12.32,366:12.13,367:11.93,368:11.72,369:11.5,370:11.27,371:11.03,372:10.77,373:10.5,374:10.2,375:9.86,376:9.49,377:9.04,378:8.45,379:7.05}},{display_name:"Small Land Plot Claim UC",base:9,epochs:{362:16.43,363:16.2,364:15.97,365:15.74,366:15.49,367:15.24,368:14.97,369:14.7,370:14.4,371:14.09,372:13.77,373:13.41,374:13.03,375:12.6,376:12.12,377:11.55,378:10.8,379:9}},{display_name:"Small Land Plot Claim RA",base:11.74,epochs:{362:21.42,363:21.14,364:20.84,365:20.53,366:20.21,367:19.88,368:19.53,369:19.17,370:18.79,371:18.38,372:17.95,373:17.49,374:16.99,375:16.44,376:15.81,377:15.06,378:14.09,379:11.74}},{display_name:"Small Land Plot Claim LE",base:21.53,epochs:{362:39.28,363:38.75,364:38.2,365:37.64,366:37.05,367:36.44,368:35.81,369:35.14,370:34.44,371:33.7,372:32.92,373:32.07,374:31.15,375:30.14,376:28.98,377:27.61,378:25.83,379:21.53}},{display_name:"Small Land Plot Claim MY",base:58.71,epochs:{362:107.12,363:105.68,364:104.18,365:102.64,366:101.04,367:99.38,368:97.65,369:95.84,370:93.93,371:91.92,372:89.77,373:87.47,374:84.96,375:82.19,376:79.05,377:75.31,378:70.45,379:58.71}},{display_name:"Medium Land Plot Claim CM",base:9.81,epochs:{362:17.9,363:17.65,364:17.4,365:17.15,366:16.88,367:16.6,368:16.31,369:16.01,370:15.69,371:15.36,372:15,373:14.61,374:14.19,375:13.73,376:13.21,377:12.58,378:11.77,379:9.81}},{display_name:"Medium Land Plot Claim UC",base:12.26,epochs:{362:22.37,363:22.07,364:21.76,365:21.43,366:21.1,367:20.75,368:20.39,369:20.01,370:19.62,371:19.19,372:18.75,373:18.27,374:17.74,375:17.16,376:16.51,377:15.73,378:14.71,379:12.26}},{display_name:"Medium Land Plot Claim RA",base:15.06,epochs:{362:27.48,363:27.11,364:26.73,365:26.33,366:25.92,367:25.5,368:25.05,369:24.59,370:24.1,371:23.58,372:23.03,373:22.44,374:21.8,375:21.09,376:20.28,377:19.32,378:18.07,379:15.06}},{display_name:"Medium Land Plot Claim LE",base:26.27,epochs:{362:47.93,363:47.29,364:46.62,365:45.93,366:45.21,367:44.47,368:43.7,369:42.89,370:42.03,371:41.13,372:40.17,373:39.14,374:38.02,375:36.78,376:35.37,377:33.7,378:31.52,379:26.27}},{display_name:"Medium Land Plot Claim MY",base:78.81,epochs:{362:143.8,363:141.86,364:139.86,365:137.79,366:135.64,367:133.41,368:131.09,369:128.66,370:126.1,371:123.4,372:120.52,373:117.42,374:114.06,375:110.34,376:106.11,377:101.1,378:94.57,379:78.81}},{display_name:"Large Land Plot Claim CM",base:15.46,epochs:{362:28.21,363:27.82,364:27.43,365:27.03,366:26.61,367:26.17,368:25.71,369:25.23,370:24.73,371:24.2,372:23.64,373:23.03,374:22.37,375:21.64,376:20.81,377:19.83,378:18.55,379:15.46}},{display_name:"Large Land Plot Claim UC",base:18.55,epochs:{362:33.85,363:33.39,364:32.92,365:32.43,366:31.93,367:31.4,368:30.85,369:30.28,370:29.68,371:29.04,372:28.37,373:27.64,374:26.85,375:25.97,376:24.98,377:23.8,378:22.26,379:18.55}},{display_name:"Large Land Plot Claim RA",base:26.28,epochs:{362:47.95,363:47.3,364:46.63,365:45.94,366:45.23,367:44.49,368:43.71,369:42.9,370:42.05,371:41.14,372:40.18,373:39.15,374:38.03,375:36.79,376:35.38,377:33.71,378:31.53,379:26.28}},{display_name:"Large Land Plot Claim LE",base:45.6,epochs:{362:83.21,363:82.08,364:80.92,365:79.73,366:78.49,367:77.2,368:75.85,369:74.44,370:72.96,371:71.4,372:69.73,373:67.94,374:66,375:63.84,376:61.4,377:58.5,378:54.72,379:45.6}},{display_name:"Large Land Plot Claim MY",base:154.58,epochs:{362:282.05,363:278.25,364:274.32,365:270.26,366:266.05,367:261.68,368:257.12,369:252.35,370:247.33,371:242.03,372:236.38,373:230.31,374:223.71,375:216.42,376:208.13,377:198.3,378:185.5,379:154.58}},{display_name:"Epic Land Plot Claim CM",base:32.17,epochs:{362:58.69,363:57.9,364:57.08,365:56.24,366:55.36,367:54.45,368:53.5,369:52.51,370:51.47,371:50.36,372:49.19,373:47.92,374:46.55,375:45.03,376:43.31,377:41.26,378:38.6,379:32.17}},{display_name:"Epic Land Plot Claim UC",base:40.21,epochs:{362:73.36,363:72.37,364:71.35,365:70.3,366:69.2,367:68.06,368:66.88,369:65.64,370:64.33,371:62.95,372:61.48,373:59.91,374:58.19,375:56.29,376:54.14,377:51.58,378:48.25,379:40.21}},{display_name:"Epic Land Plot Claim RA",base:56.29,epochs:{362:102.71,363:101.32,364:99.89,365:98.42,366:96.88,367:95.29,368:93.63,369:91.89,370:90.07,371:88.13,372:86.08,373:83.87,374:81.47,375:78.81,376:75.79,377:72.21,378:67.55,379:56.29}},{display_name:"Epic Land Plot Claim LE",base:107.22,epochs:{362:195.64,363:193,364:190.27,365:187.46,366:184.54,367:181.51,368:178.34,369:175.03,370:171.55,371:167.87,372:163.96,373:159.75,374:155.17,375:150.11,376:144.36,377:137.55,378:128.67,379:107.22}},{display_name:"Epic Land Plot Claim MY",base:268.05,epochs:{362:489.09,363:482.49,364:475.68,365:468.64,366:461.35,367:453.76,368:445.86,369:437.58,370:428.88,371:419.69,372:409.89,373:399.37,374:387.93,375:375.27,376:360.91,377:343.87,378:321.66,379:268.05}},{display_name:"Copias Land Plot Claim CM",base:83.62,epochs:{362:152.58,363:150.52,364:148.4,365:146.2,366:143.92,367:141.56,368:139.09,369:136.51,370:133.8,371:130.93,372:127.87,373:124.59,374:121.02,375:117.07,376:112.59,377:107.27,378:100.35,379:83.62}},{display_name:"Copias Land Plot Claim UC",base:111.5,epochs:{362:203.44,363:200.69,364:197.86,365:194.93,366:191.9,367:188.74,368:185.45,369:182.01,370:178.39,371:174.57,372:170.49,373:166.12,374:161.36,375:156.1,376:150.12,377:143.03,378:133.8,379:111.5}},{display_name:"Copias Land Plot Claim RA",base:176.54,epochs:{362:322.11,363:317.77,364:313.28,365:308.64,366:303.84,367:298.84,368:293.64,369:288.19,370:282.46,371:276.4,372:269.95,373:263.02,374:255.49,375:247.15,376:237.69,377:226.47,378:211.84,379:176.54}},{display_name:"Copias Land Plot Claim LE",base:297.32,epochs:{362:542.5,363:535.18,364:527.63,365:519.82,366:511.73,367:503.32,368:494.55,369:485.37,370:475.72,371:465.52,372:454.65,373:442.98,374:430.29,375:416.25,376:400.32,377:381.42,378:356.79,379:297.32}},{display_name:"Copias Land Plot Claim MY",base:743.31,epochs:{362:1356.26,363:1337.96,364:1319.08,365:1299.55,366:1279.32,367:1258.29,368:1236.37,369:1213.42,370:1189.3,371:1163.79,372:1136.63,373:1107.46,374:1075.73,375:1040.63,376:1000.8,377:953.55,378:891.97,379:743.31}}],V={epochs:A,rewards:O},$=Object.freeze(Object.defineProperty({__proto__:null,epochs:A,rewards:O,default:V},Symbol.toStringTag,{value:"Module"}));function R(e,a,t){if(typeof a!="number")throw new TypeError("Expected value to be a number");if(t===Number.POSITIVE_INFINITY)return a;if(!Number.isInteger(t))throw new TypeError("Expected precision to be an integer");const s=e==="round"&&a<0;s&&(a=Math.abs(a));const r=10**t;let l=Math[e]((a*r).toPrecision(15))/r;return s&&(l=-l),l}const D=R.bind(void 0,"round");R.bind(void 0,"ceil");R.bind(void 0,"floor");function N(e,a=2){return D(e,a)}function B(e,a){const t=[];for(let s=e;s<=a;s+=1)t.push(s);return t}function G(e,a=2){return e.reduce((t,s)=>t+s,0)}function Q(e){if(e.length===0)return[];const a=(t,s)=>t.map((r,l)=>s[l]+r);return e.reduce(a)}const L=(e,a,t,s,r,l)=>{let o=0;const c=[];return e.forEach((d,f)=>{const u=r(d.display_name),b=Object.keys(d.epochs);if(s&&u===0)return o+=1,!1;const i=[];b.forEach((m,h)=>{const g=parseInt(m,10),y=g>=a+t?l(u,d,g,f-o,h+2):0;i.push(y)}),i.push(G(i)),c.push([d.display_name,u,...i])}),c};function j(){const{rewards:a,epochs:t}=$;return{calculateStakingRewards:k.exports.useCallback((r,l,o)=>{const c=L(a,r,4,l,o,(i,m,h,g,w)=>i*m.epochs[h]),d=L(a,r,4,l,o,(i,m,h,g,w)=>{const y=c[g].length-2;return i*c[g][y]}),f=L(a,r,4,l,o,(i,m,h,g,w)=>{const y=t.rewards.end-h,F=100*(.2*y**.5);return d[g][w]/100*F});let u=Array.from(c,([...i])=>(i.splice(0,2),i));const b=Q(u);return u=["Total Rewards",null,...b],{base:d,bonus:f,total:c,totalRow:u,totalRewards:u.length>2?u[u.length-1]:0}},[]),rewards:a,epochs:t}}function P({children:e}){return n("div",{className:"block md:flex items-center mb-5",children:e})}function q(){const{setShowOnlyOwned:e,setStakingFromEpoch:a,stakingFromEpoch:t,showOnlyOwned:s}=k.exports.useContext(S),{address:r,setAddress:l}=M(),{epochs:o}=j(),c=B(o.kickoff.start,o.kickoff.end),d=({target:b})=>{l(b.value)};return p("div",{className:"md:flex mb-5",children:[p("div",{className:"bg-stone-900 px-4 md:px-12 py-9 mb-5 rounded md:w-1/2 w-full md:mr-2",children:[p(P,{children:[p(C,{children:["Enter Bech32 Address (Starts with ",n("i",{children:"stake"}),")"]}),n(z,{onChange:d,onEnterPress:d,value:r})]}),p(P,{children:[n(C,{children:"When did you start staking?"}),n(H,{value:t,onChange:({target:b})=>{a(parseInt(b.value,10))},options:c})]})]}),n("div",{className:"bg-stone-900 px-2 py-9 mb-5 rounded w-full md:w-1/2 md:ml-2",children:p(P,{children:[n(Y,{checked:s,onChange:()=>{e(!s)}}),n(C,{className:"md:w-full mr-6 text-left text-gray-300",children:"Only show owned NFT's"})]})})]})}function J({children:e,...a}){return n("div",{className:"overflow-x-auto mb-5",children:n("table",{className:" table-fixed min-w-full bg-stone-900 rounded-lg overflow-hidden mb-1",...a,children:e})})}function K({children:e,...a}){return n("tbody",{className:"",...a,children:e})}function X({children:e,...a}){return n("thead",{...a,children:e})}function Z({children:e,...a}){return n("tr",{className:"rounded-l-lg mb-2 border-grey-light border-b",...a,children:e})}function E({children:e,...a}){return n("tr",{className:"mb-2 hover:bg-stone-800 border-grey-light border-b",...a,children:e})}function e3({children:e,...a}){return n("th",{className:"p-3 text-left",...a,children:e})}function T({children:e,...a}){return n("td",{className:"hover:bg-stone-700 p-3",...a,children:e})}function _({headers:e,children:a,body:t,loading:s}){const r=()=>[...Array(5)].map(o=>{var c;return new Array((c=e==null?void 0:e.length)!=null?c:5).fill(null)}).map((o,c)=>n(E,{children:o.map((d,f)=>n(T,{className:"animate-pulse",children:n("span",{className:"block p-5 bg-stone-800"})},f))},c));return p(J,{children:[e&&n(X,{children:n(Z,{children:e.map((l,o)=>n(e3,{children:l},o))})}),n(K,{children:s?r():t&&t.map((l,o)=>n(E,{children:l.map((c,d)=>n(T,{children:a?a(c,d):c},d))},o))})]})}function x({children:e,center:a=!1,level:t=1}){const s=v({"font-medium leading-tight mt-0 mb-5":!0,"text-4xl":t===1,"text-3xl":t===2,"text-2xl":t===3,"text-xl":t===4,"text-center":a}),r=`h${t}`;return n(r,{className:s,children:e})}function s3(){const{stakingFromEpoch:e,showOnlyOwned:a}=k.exports.useContext(S),{calculateStakingRewards:t,epochs:s}=j(),{countNftsByName:r,nfts:l,loading:o}=M(),{total:c,base:d,bonus:f,totalRow:u,totalRewards:b}=t(e,a,r),i=["Asset Name","Quantity Staked",...B(s.rewards.start,s.rewards.end),"Total"];return p("div",{className:"container mx-auto",children:[p(x,{level:2,center:!0,children:["Rewards Estimator ",n("span",{className:"italic",children:"(NFT Rewards Only)"})]}),n(U,{type:I.warning,children:"DISCLAIMER: This calculator assumes all assets in wallet were delegated in the same epoch. If your assets were delegated in different epochs, you must calculate those separately"}),n(q,{}),n(x,{level:3,children:p("span",{className:"md:flex md:justify-between",children:[n("span",{className:"w-full block mb-2 md:mb-0 md:w-auto md:flex-initial",children:"Total Rewards"}),p("span",{className:"text-xl w-full block md:w-auto md:flex-initial",children:["Total COPI Rewards for staked land NFTs: ",n("span",{className:"font-bold text-green-400",children:N(b,1)})]})]})}),n(_,{loading:o,headers:i,body:[u,...c],children:(m,h)=>h>1?N(m,1).toFixed(1):m}),n("div",{className:"p-5"}),n(x,{level:3,children:"Base Rewards"}),n(_,{loading:o,headers:i,body:d,children:(m,h)=>h>1?m.toFixed(1):m}),n("div",{className:"p-5"}),n(x,{level:3,children:"Bonus Rewards"}),n(_,{loading:o,headers:i,body:f,children:(m,h)=>h>1?N(m,1).toFixed(1):m})]})}export{s3 as default};
//# sourceMappingURL=nft-staking.b3762c69.js.map
