import{j as s,c as y,l as W,b as h,g as F,r as N}from"./vendor.61fe90af.js";import{S as E,u as A}from"./index.62e69461.js";function z(e){return s("input",{type:"checkbox",className:"w-4 h-4 bg-gray-100 rounded border-gray-300 mr-3",...e})}function H({error:e,onEnterPress:a,onChange:t,onKeyDown:n=null,...o}){const c=y({"w-full py-2 pl-2 border border-2 text-sm text-gray-600 placeholder-gray-400 rounded":!0,"border-red-500":e,"border-transparent":!e}),l=r=>{r.key==="Enter"&&a&&typeof a=="function"&&a(r),n&&typeof n=="function"&&n(r)};return s(W.DebounceInput,{minLength:2,debounceTimeout:300,onKeyDown:l,onChange:t,className:c,...o})}function U({options:e=[],...a}){return s("select",{className:"w-full md:flex-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded p-2.5",...a,children:e.map(t=>{var c,l;const n=(c=t.value)!=null?c:t,o=(l=t.label)!=null?l:t;return s("option",{value:n,children:o},n)})})}function v({children:e,...a}){return s("label",{className:"block w-full mb-3 md:w-1/3 mr-6 text-left text-gray-300",...a,children:e})}var M=(e=>(e[e.warning=0]="warning",e[e.success=1]="success",e))(M||{});function Y({children:e,type:a,title:t}){const n=y({"border-t-4 rounded px-4 py-3 shadow-md mb-5":!0,"bg-red-100 border-red-500 text-red-900":a===0,"bg-teal-100 border-teal-500 text-teal-900":a===1}),o=y({"fill-current h-6 w-6 mr-4":!0,"text-red-900":a===0,"text-teal-900":a===1});return s("div",{className:n,role:"alert",children:h("div",{className:"flex items-center",children:[s("div",{className:"py-1",children:s("svg",{className:o,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:s("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})})}),h("div",{children:[s("p",{className:"font-bold",children:t}),s("p",{className:"text-sm",children:e})]})]})})}function V({children:e,visible:a=!1}){return a?s("span",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1",children:e}):null}function P(e,a=2){return F(e,a)}function T(e,a){const t=[];for(let n=e;n<=a;n+=1)t.push(n);return t}function $(e,a=2){return e.reduce((t,n)=>t+n,0)}function D(e){if(e.length===0)return[];const a=(t,n)=>t.map((o,c)=>n[c]+o);return e.reduce(a)}const O={rewards:{start:362,end:379},kickoff:{start:358,end:375}},I=[{display_name:"Small Land Plot Claim CM",base:7.0450013526475,epochs:{362:12.8544582945645,363:12.6810024347655,364:12.50203593521,365:12.3169976228407,366:12.1252240751842,367:11.9259214655183,368:11.7181265795031,369:11.5006514313141,370:11.272002164236,371:11.0302559365879,372:10.7728656656913,373:10.4963330628882,374:10.1956217378671,375:9.8630018937065,376:9.48546140908288,377:9.03762864461768,378:8.454001623177,379:7.0450013526475}},{display_name:"Small Land Plot Claim UC",base:9.00194617282736,epochs:{362:16.4251411541657,363:16.2035031110892,364:15.9748236949906,365:15.7383858514075,366:15.4933418738465,367:15.2386774281622,368:14.9731617404762,369:14.6952768289014,370:14.4031138765238,371:14.0942159189734,372:13.7653283506055,373:13.4119811359127,374:13.0277388872746,375:12.6027246419583,376:12.1203118004948,377:11.5480810459004,378:10.8023354073928,379:9.00194617282736}},{display_name:"Small Land Plot Claim RA",base:11.7416689210792,epochs:{362:21.4240971576075,363:21.1350040579425,364:20.8367265586833,365:20.5283293714011,366:20.2087067919737,367:19.8765357758638,368:19.5302109658385,369:19.1677523855236,370:18.7866702737267,371:18.3837598943131,372:17.9547761094855,373:17.4938884381471,374:16.9927028964451,375:16.4383364895108,376:15.8091023484715,377:15.0627144076961,378:14.090002705295,379:11.7416689210792}},{display_name:"Small Land Plot Claim LE",base:21.5263930219785,epochs:{362:39.2775114556137,363:38.7475074395612,364:38.2006653575861,365:37.6352705142354,366:37.0492957852852,367:36.4403155890836,368:35.8053867707039,369:35.1408793734599,370:34.4422288351656,371:33.7035598062407,372:32.9170895340567,373:32.0721288032696,374:31.1532886434827,375:30.1369502307699,376:28.983354305531,377:27.6149764141096,378:25.8316716263742,379:21.5263930219785}},{display_name:"Small Land Plot Claim MY",base:58.7083446053958,epochs:{362:107.120485788037,363:105.675020289712,364:104.183632793417,365:102.641646857006,366:101.043533959869,367:99.3826788793189,368:97.6510548291925,369:95.8387619276178,370:93.9333513686333,371:91.9187994715655,372:89.7738805474274,373:87.4694421907353,374:84.9635144822255,375:82.1916824475541,376:79.0455117423574,377:75.3135720384806,378:70.450013526475,379:58.7083446053958}},{display_name:"Medium Land Plot Claim CM",base:9.80774698113672,epochs:{362:17.8954223316486,363:17.6539445660461,364:17.4047951254884,365:17.1471927690527,366:16.8802139085898,367:16.6027534127803,368:16.313470336171,369:16.0107108161432,370:15.6923951698187,371:15.3558464999556,372:14.9975188679232,373:14.6125421071581,374:14.1939047723247,375:13.7308457735914,376:13.2052501969585,377:12.5817967405462,378:11.7692963773641,379:9.80774698113672}},{display_name:"Medium Land Plot Claim UC",base:12.2596837264209,epochs:{362:22.3692779145607,363:22.0674307075576,364:21.7559939068605,365:21.4339909613159,366:21.1002673857373,367:20.7534417659754,368:20.3918379202137,369:20.013388520179,370:19.6154939622734,371:19.1948081249446,372:18.746898584904,373:18.2656776339477,374:17.7423809654059,375:17.1635572169893,376:16.5065627461982,377:15.7272459256827,378:14.7116204717051,379:12.2596837264209}},{display_name:"Medium Land Plot Claim RA",base:15.0618971496028,epochs:{362:27.4822557236032,363:27.1114148692851,364:26.7287925141429,365:26.333188895331,366:25.9231856453344,367:25.4970855981984,368:25.052829444834,369:24.5878773247914,370:24.0990354393645,371:23.5821928392176,372:23.0319039757391,373:22.4406896645643,374:21.7977823289273,375:21.0866560094439,376:20.2794913739006,377:19.3220449944102,378:18.0742765795234,379:15.0618971496028}},{display_name:"Medium Land Plot Claim LE",base:26.2707508423305,epochs:{362:47.934166959773,363:47.2873515161949,364:46.6199869432726,365:45.9299806313912,366:45.2148586837228,367:44.4716609270902,368:43.6967955433152,369:42.8858325432408,370:42.0332013477288,371:41.1317316963098,372:40.1719255390799,373:39.1407377870307,374:38.0193877830126,375:36.7790511792627,376:35.3712058847103,377:33.7012412693201,378:31.5249010107966,379:26.2707508423305}},{display_name:"Medium Land Plot Claim MY",base:78.8122525269915,epochs:{362:143.802500879319,363:141.862054548585,364:139.859960829818,365:137.789941894174,366:135.644576051168,367:133.414982781271,368:131.090386629945,369:128.657497629722,370:126.099604043186,371:123.395195088929,372:120.51577661724,373:117.422213361092,374:114.058163349038,375:110.337153537788,376:106.113617654131,377:101.10372380796,378:94.5747030323898,379:78.8122525269915}},{display_name:"Large Land Plot Claim CM",base:15.4582195879754,epochs:{362:28.2053940170183,363:27.8247952583557,364:27.4321049932246,365:27.0260918895197,366:26.6053002583408,367:26.1679882763473,368:25.7120424480227,369:25.2348560817817,370:24.7331513407606,371:24.2027091045579,372:23.6379405362974,373:23.0311696524625,374:22.3713455499417,375:21.6415074231655,376:20.8131039321613,377:19.8304643462666,378:18.5498635055705,379:15.4582195879754}},{display_name:"Large Land Plot Claim UC",base:18.5498635055705,epochs:{362:33.8464728204219,363:33.3897543100268,364:32.9185259918695,365:32.4313102674237,366:31.9263603100089,367:31.4015859316168,368:30.8544509376272,369:30.2818272981381,370:29.6797816089127,371:29.0432509254694,372:28.3655286435569,373:27.637403582955,374:26.8456146599301,375:25.9698089077986,376:24.9757247185936,377:23.7965572155199,378:22.2598362066845,379:18.5498635055705}},{display_name:"Large Land Plot Claim RA",base:26.2789732995581,epochs:{362:47.949169828931,363:47.3021519392046,364:46.6345784884817,365:45.9443562121835,366:45.2290104391793,367:44.4855800697904,368:43.7104721616386,369:42.8992553390289,370:42.046357279293,371:41.1446054777484,372:40.1844989117056,373:39.1529884091863,374:38.0312874349009,375:36.7905626193814,376:35.3822766846743,377:33.7117893886533,378:31.5347679594698,379:26.2789732995581}},{display_name:"Large Land Plot Claim LE",base:45.6017477845274,epochs:{362:83.2059123502038,363:82.0831460121492,364:80.9247097300124,365:79.7269710740832,366:78.4856357621053,367:77.1955654152245,368:75.8505252216669,369:74.4428254412561,370:72.9627964552438,371:71.3979918584457,372:69.7319245820774,373:67.9419504747644,374:65.9954693723281,375:63.8424468983383,376:61.3986565998759,377:58.4998698214865,378:54.7220973414328,379:45.6017477845274}},{display_name:"Large Land Plot Claim MY",base:154.582195879754,epochs:{362:282.053940170182,363:278.247952583557,364:274.321049932246,365:270.260918895197,366:266.053002583408,367:261.679882763473,368:257.120424480227,369:252.348560817817,370:247.331513407606,371:242.027091045579,372:236.379405362974,373:230.311696524625,374:223.713455499417,375:216.415074231655,376:208.131039321613,377:198.304643462666,378:185.498635055704,379:154.582195879754}},{display_name:"Epic Land Plot Claim CM",base:32.166252674553,epochs:{362:58.6912241460507,363:57.8992548141954,364:57.0821248582417,365:56.2372720594687,366:55.3616673460793,367:54.4516862431227,368:53.5029308812047,369:52.5099771233671,370:51.4660042792848,371:50.3622329877821,372:49.1870337116997,373:47.9244338725709,374:46.5514381869,375:45.0327537443742,376:43.3089694588378,377:41.2642428311676,378:38.5995032094636,379:32.166252674553}},{display_name:"Epic Land Plot Claim UC",base:40.2078158431913,epochs:{362:73.3640301825634,363:72.3740685177443,364:71.3526560728022,365:70.2965900743359,366:69.2020841825992,367:68.0646078039033,368:66.8786636015058,369:65.6374714042089,370:64.332505349106,371:62.9527912347277,372:61.4837921396247,373:59.9055423407137,374:58.189297733625,375:56.2909421804678,376:54.1362118235473,377:51.5803035389595,378:48.2493790118295,379:40.2078158431913}},{display_name:"Epic Land Plot Claim RA",base:56.2909421804678,epochs:{362:102.709642255589,363:101.323695924842,364:99.8937185019231,365:98.4152261040702,366:96.8829178556388,367:95.2904509254647,368:93.6301290421082,369:91.8924599658924,370:90.0655074887485,371:88.1339077286187,372:86.0773089954745,373:83.8677592769991,374:81.465016827075,375:78.8073190526549,376:75.7906965529662,377:72.2124249545432,378:67.5491306165613,379:56.2909421804678}},{display_name:"Epic Land Plot Claim LE",base:107.22084224851,epochs:{362:195.637413820169,363:192.997516047318,364:190.273749527472,365:187.457573531562,366:184.538891153598,367:181.505620810409,368:178.343102937349,369:175.03325707789,370:171.553347597616,371:167.874109959274,372:163.956779038999,373:159.74811290857,374:155.171460623,375:150.109179147914,376:144.363231529459,377:137.547476103892,378:128.665010698212,379:107.22084224851}},{display_name:"Epic Land Plot Claim MY",base:268.052105621275,epochs:{362:489.093534550423,363:482.493790118295,364:475.684373818681,365:468.643933828906,366:461.347227883994,367:453.764052026022,368:445.857757343372,369:437.583142694726,370:428.88336899404,371:419.685274898184,372:409.891947597498,373:399.370282271424,374:387.9286515575,375:375.272947869785,376:360.908078823649,377:343.86869025973,378:321.66252674553,379:268.052105621275}},{display_name:"Copias Land Plot Claim CM",base:83.6223900051647,epochs:{362:152.579179336742,363:150.520302009296,364:148.396014777178,365:146.199656657668,366:143.923352993258,367:141.557681260879,368:139.091208349144,369:136.509833165809,370:133.795824008263,371:130.926357230507,372:127.871199603268,373:124.588827322098,374:121.019459703674,375:117.071346007231,376:112.590035633022,377:107.274373617836,378:100.346868006198,379:83.6223900051647}},{display_name:"Copias Land Plot Claim UC",base:111.496520006886,epochs:{362:203.438905782323,363:200.693736012395,364:197.861353036237,365:194.932875543557,366:191.897803991011,367:188.743575014505,368:185.454944465525,369:182.013110887745,370:178.394432011018,371:174.568476307343,372:170.494932804358,373:166.118436429464,374:161.359279604899,375:156.095128009641,376:150.120047510696,377:143.032498157115,378:133.795824008263,379:111.496520006886}},{display_name:"Copias Land Plot Claim RA",base:176.53615667757,epochs:{362:322.111600822012,363:317.765082019626,364:313.280475640708,365:308.643719610632,366:303.838189652434,367:298.843993772966,368:293.636995403749,369:288.187425572263,370:282.457850684112,371:276.400087486626,372:269.950310273567,373:263.020857679984,374:255.48552604109,375:247.150619348598,376:237.690075225268,377:226.468122082098,378:211.843388013084,379:176.53615667757}},{display_name:"Copias Land Plot Claim LE",base:297.324053351697,epochs:{362:542.503748752862,363:535.183296033054,364:527.630274763298,365:519.821001449486,366:511.727477309363,367:503.31620003868,368:494.546518574734,369:485.368295700653,370:475.718485362715,371:465.515936819581,372:454.653154144955,373:442.982497145237,374:430.29141227973,375:416.253674692375,376:400.320126695188,377:381.419995085639,378:356.788864022036,379:297.324053351697}},{display_name:"Copias Land Plot Claim MY",base:743.310133379242,epochs:{362:1356.25937188215,363:1337.95824008263,364:1319.07568690824,365:1299.55250362371,366:1279.31869327341,367:1258.2905000967,368:1236.36629643684,369:1213.42073925163,370:1189.29621340679,371:1163.78984204895,372:1136.63288536239,373:1107.45624286309,374:1075.72853069933,375:1040.63418673094,376:1000.80031673797,377:953.549987714097,378:891.97216005509,379:743.310133379242}}],G={epochs:O,rewards:I},Q=Object.freeze(Object.defineProperty({__proto__:null,epochs:O,rewards:I,default:G},Symbol.toStringTag,{value:"Module"})),k=(e,a,t,n,o,c)=>{let l=0;const r=[];return e.forEach((m,b)=>{const p=o(m.display_name),g=Object.keys(m.epochs);if(n&&p===0)return l+=1,!1;const i=[];g.forEach((d,u)=>{const f=parseInt(d,10),L=f>=a+t?c(p,m,f,b-l,u+2):0;i.push(L)}),i.push($(i)),r.push([m.display_name,p,...i])}),r};function B(){const{rewards:a,epochs:t}=Q;return{calculateStakingRewards:N.exports.useCallback((o,c,l)=>{const r=k(a,o,4,c,l,(i,d,u,f,x)=>i*d.epochs[u]),m=k(a,o,4,c,l,(i,d,u,f,x)=>(r[f].length-2,i*d.base)),b=k(a,o,4,c,l,(i,d,u,f,x)=>{const L=t.rewards.end-u,j=100*(.2*L**.5);return m[f][x]/100*j});let p=Array.from(r,([...i])=>(i.splice(0,2),i));const g=D(p);return p=["Total Rewards",null,...g],{base:m,bonus:b,total:r,totalRow:p,totalRewards:p.length>2?p[p.length-1]:0}},[]),rewards:a,epochs:t}}function w({children:e,className:a}){const t=y({"block md:flex items-center mb-5":!0,[`${a}`]:a!=null});return s("div",{className:t,children:e})}function q(){const{setShowOnlyOwned:e,setStakingFromEpoch:a,stakingFromEpoch:t,showOnlyOwned:n}=N.exports.useContext(E),{address:o,setAddress:c}=A(),{epochs:l}=B(),[r,m]=N.exports.useState(!1),b=T(l.kickoff.start,l.kickoff.end);console.log(r);const p=({target:d})=>{const u=d.value;u&&u.length>5&&(u.startsWith("stake")?(m(!1),c(d.value)):m(!0))};return h("div",{className:"md:flex mb-5",children:[h("div",{className:"bg-stone-900 px-4 md:px-12 py-9 mb-5 rounded md:w-1/2 w-full md:mr-2",children:[h(w,{children:[h(v,{children:["Enter Bech32 Address (Starts with ",s("i",{children:"stake"}),")"]}),h(w,{className:"flex-wrap md:flex-1",children:[s(H,{error:r,onChange:p,onEnterPress:p,value:o}),s(V,{visible:r,children:'Address is not valid. Please use the address starting "stake...."'})]})]}),h(w,{children:[s(v,{children:"When did you start staking?"}),s(U,{value:t,onChange:({target:d})=>{a(parseInt(d.value,10))},options:b})]})]}),s("div",{className:"bg-stone-900 px-2 py-9 mb-5 rounded w-full md:w-1/2 md:ml-2",children:h(w,{children:[s(z,{checked:n,onChange:()=>{e(!n)}}),s(v,{className:"md:w-full mr-6 text-left text-gray-300",children:"Only show owned NFT's"})]})})]})}function J({children:e,...a}){return s("div",{className:"overflow-x-auto mb-5",children:s("table",{className:" table-fixed min-w-full bg-stone-900 rounded-lg overflow-hidden mb-1",...a,children:e})})}function K({children:e,...a}){return s("tbody",{className:"",...a,children:e})}function X({children:e,...a}){return s("thead",{...a,children:e})}function Z({children:e,...a}){return s("tr",{className:"rounded-l-lg mb-2 border-grey-light border-b",...a,children:e})}function R({children:e,...a}){return s("tr",{className:"mb-2 hover:bg-stone-800 border-grey-light border-b",...a,children:e})}function e3({children:e,...a}){return s("th",{className:"p-3 text-left",...a,children:e})}function S({children:e,...a}){return s("td",{className:"hover:bg-stone-700 p-3",...a,children:e})}function _({headers:e,children:a,body:t,loading:n}){const o=()=>[...Array(5)].map(l=>{var r;return new Array((r=e==null?void 0:e.length)!=null?r:5).fill(null)}).map((l,r)=>s(R,{children:l.map((m,b)=>s(S,{className:"animate-pulse",children:s("span",{className:"block p-5 bg-stone-800"})},b))},r));return h(J,{children:[e&&s(X,{children:s(Z,{children:e.map((c,l)=>s(e3,{children:c},l))})}),s(K,{children:n?o():t&&t.map((c,l)=>s(R,{children:c.map((r,m)=>s(S,{children:a?a(r,m):r},m))},l))})]})}function C({children:e,center:a=!1,level:t=1}){const n=y({"font-medium leading-tight mt-0 mb-5":!0,"text-4xl":t===1,"text-3xl":t===2,"text-2xl":t===3,"text-xl":t===4,"text-center":a}),o=`h${t}`;return s(o,{className:n,children:e})}function n3(){const{stakingFromEpoch:e,showOnlyOwned:a}=N.exports.useContext(E),{calculateStakingRewards:t,epochs:n}=B(),{countNftsByName:o,nfts:c,loading:l}=A(),{total:r,base:m,bonus:b,totalRow:p,totalRewards:g}=t(e,a,o),i=["Asset Name","Quantity Staked",...T(n.rewards.start,n.rewards.end),"Total"];return h("div",{className:"container mx-auto",children:[h(C,{level:2,center:!0,children:["Rewards Estimator ",s("span",{className:"italic",children:"(NFT Rewards Only)"})]}),s(Y,{type:M.warning,children:"DISCLAIMER: This calculator assumes all assets in wallet were delegated in the same epoch. If your assets were delegated in different epochs, you must calculate those separately"}),s(q,{}),s(C,{level:3,children:h("span",{className:"md:flex md:justify-between",children:[s("span",{className:"w-full block mb-2 md:mb-0 md:w-auto md:flex-initial",children:"Total Rewards"}),h("span",{className:"text-xl w-full block md:w-auto md:flex-initial",children:["Total COPI Rewards for staked land NFTs: ",l?"N/A":s("span",{className:"font-bold text-green-400",children:P(g,1).toLocaleString()})]})]})}),s(_,{loading:l,headers:i,body:[p,...r],children:(d,u)=>u>1?P(d,1).toFixed(1):d}),s("div",{className:"p-5"}),s(C,{level:3,children:"Base Rewards"}),s(_,{loading:l,headers:i,body:m,children:(d,u)=>u>1?d.toFixed(1):d}),s("div",{className:"p-5"}),s(C,{level:3,children:"Bonus Rewards"}),s(_,{loading:l,headers:i,body:b,children:(d,u)=>u>1?P(d,1).toFixed(1):d})]})}export{n3 as default};
