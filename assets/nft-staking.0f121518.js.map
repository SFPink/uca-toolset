{"version":3,"file":"nft-staking.0f121518.js","sources":["../../src/components/UI/atoms/checkbox/index.tsx","../../src/components/UI/atoms/input/index.tsx","../../src/components/UI/atoms/select/index.tsx","../../src/components/UI/atoms/label/index.tsx","../../src/components/UI/atoms/alert/index.tsx","../../node_modules/round-to/index.js","../../src/utils/math.ts","../../src/components/hooks/useStaking.ts","../../src/components/UI/atoms/input-group/index.tsx","../../src/components/UI/organisms/address/index.tsx","../../src/components/UI/atoms/table/table.tsx","../../src/components/UI/atoms/table/tbody.tsx","../../src/components/UI/atoms/table/thead.tsx","../../src/components/UI/atoms/table/thead-tr.tsx","../../src/components/UI/atoms/table/tbody-tr.tsx","../../src/components/UI/atoms/table/th.tsx","../../src/components/UI/atoms/table/td.tsx","../../src/components/UI/molecules/simple-table/index.tsx","../../src/components/UI/atoms/headings/heading.tsx","../../src/components/pages/nft-staking.tsx"],"sourcesContent":["import React, { InputHTMLAttributes } from 'react';\n\ninterface CheckboxProps\n  extends React.DetailedHTMLProps<\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement\n  >,\n  React.AriaAttributes {\n}\n\nexport default function Input(props: CheckboxProps) {\n  return (\n    <input type=\"checkbox\" className=\"w-4 h-4 bg-gray-100 rounded border-gray-300 mr-3\" {...props} />\n  );\n}\n","import React from 'react';\nimport { DebounceInput } from 'react-debounce-input';\n\nexport default function Input({\n  onEnterPress,\n  onChange,\n  onKeyDown = null,\n  ...props\n}) {\n  const handleKeyPress = (evt) => {\n    if (\n      evt.key === 'Enter'\n      && onEnterPress\n      && typeof onEnterPress === 'function'\n    ) {\n      onEnterPress(evt);\n    }\n\n    if (onKeyDown && typeof onKeyDown === 'function') {\n      onKeyDown(evt);\n    }\n  };\n\n  return (\n    <DebounceInput\n      minLength={2}\n      debounceTimeout={300}\n      onKeyDown={handleKeyPress}\n      onChange={onChange}\n      className=\"w-full md:flex-1 py-2 pl-2 border-b border-gray-400 focus:border-gray-900 text-sm text-gray-600 placeholder-gray-400 outline-none rounded\"\n      {...props}\n    />\n  );\n}\n","import React from 'react';\n\ntype Options = {\n  value: any,\n  label: string\n}\n\ninterface SelectProps\n  extends React.DetailedHTMLProps<\n    React.SelectHTMLAttributes<HTMLSelectElement>,\n    HTMLSelectElement\n  >,\n  React.AriaAttributes {\n  options: Options[] | Array<any>\n}\n\nexport default function Select({ options = [], ...props }: SelectProps) {\n  return (\n    <select\n      className=\"w-full md:flex-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded p-2.5\"\n      {...props}\n    >\n      {\n        options.map((option) => {\n          const value = option.value ?? option;\n          const label = option.label ?? option;\n\n          return <option key={value} value={value}>{label}</option>\n        })\n      }\n    </select>\n  );\n}\n","import React from 'react';\n\ninterface InputProps\n  extends React.DetailedHTMLProps<\n    React.LabelHTMLAttributes<HTMLLabelElement>,\n    HTMLLabelElement\n  >,\n  React.AriaAttributes {\n  children: React.ReactNode;\n}\n\nexport default function Label({ children, ...props }: InputProps) {\n  return (\n    <label className=\"block w-full mb-3 md:w-1/3 mr-6 text-left text-gray-300\" {...props}>\n      {children}\n    </label>\n  );\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport enum Type {\n  warning,\n  success,\n}\n\ntype AlertProps = {\n  children?: React.ReactNode;\n  title?: string;\n  type: Type;\n};\n\nexport default function Alert({ children, type, title }: AlertProps) {\n  const containerClasses = classNames({\n    'border-t-4 rounded px-4 py-3 shadow-md mb-5': true,\n    'bg-red-100 border-red-500 text-red-900': type === Type.warning,\n    'bg-teal-100 border-teal-500 text-teal-900': type === Type.success,\n  });\n\n  const iconClasses = classNames({\n    'fill-current h-6 w-6 mr-4': true,\n    'text-red-900': type === Type.warning,\n    'text-teal-900': type === Type.success,\n  });\n\n  return (\n    <div className={containerClasses} role=\"alert\">\n      <div className=\"flex items-center\">\n        <div className=\"py-1\">\n          <svg\n            className={iconClasses}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n          >\n            <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n          </svg>\n        </div>\n        <div>\n          <p className=\"font-bold\">{title}</p>\n          <p className=\"text-sm\">{children}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","function round(method, number, precision) {\n\tif (typeof number !== 'number') {\n\t\tthrow new TypeError('Expected value to be a number');\n\t}\n\n\tif (precision === Number.POSITIVE_INFINITY) {\n\t\treturn number;\n\t}\n\n\tif (!Number.isInteger(precision)) {\n\t\tthrow new TypeError('Expected precision to be an integer');\n\t}\n\n\tconst isRoundingAndNegative = method === 'round' && number < 0;\n\tif (isRoundingAndNegative) {\n\t\tnumber = Math.abs(number);\n\t}\n\n\tconst power = 10 ** precision;\n\n\tlet result = Math[method]((number * power).toPrecision(15)) / power;\n\n\tif (isRoundingAndNegative) {\n\t\tresult = -result;\n\t}\n\n\treturn result;\n}\n\nexport const roundTo = round.bind(undefined, 'round');\nexport const roundToUp = round.bind(undefined, 'ceil');\nexport const roundToDown = round.bind(undefined, 'floor');\n","import { roundTo } from 'round-to';\n\n/**\n * Better round number\n * @param value\n * @param decimals\n * @returns\n */\nexport function round(value: number, decimals: number = 2): number {\n  return roundTo(value, decimals);\n}\n\n/**\n * Return an array of numbers defined by parameters\n * @param start\n * @param end\n * @returns\n */\nexport function rangeBetween(start: number, end: number): Array<number> {\n  const range = [];\n  for (let i: number = start; i <= end; i += 1) {\n    range.push(i);\n  }\n  return range;\n}\n\n/**\n * Sum values in array\n * @param array\n * @param decimals\n * @returns\n */\nexport function sum(array: Array<number>, decimals: number = 2): number {\n  return array.reduce((a, b) => a + b, 0);\n}\n\n/**\n * Vertically sum values in array by index\n * @param array\n * @returns\n */\nexport function sumVertically(array: Array<Array<number>>): Array<number> {\n  if (array.length === 0) return [];\n\n  const sum = (r, a) => r.map((b, i) => a[i] + b);\n  return array.reduce(sum);\n}\n","import { useCallback } from 'react';\nimport { StakingAssetRewards, StakingReference } from '../../models/Staking';\nimport * as reference from '../../assets/data/reference.json';\nimport { round, sum, sumVertically } from '../../utils/math';\n\nconst calculateRewards = (\n  rewards: StakingAssetRewards[],\n  stakingFromEpoch: number,\n  epochWaitPeriod: number,\n  showOnlyOwned: boolean,\n  quantityFn: Function,\n  calculationFn: Function,\n) => {\n  // Keep track of hidden rows so we can keep accurate row count.\n  let hidden = 0;\n  const output = [] as Array<any>;\n\n  // eslint-disable-next-line implicit-arrow-linebreak\n  rewards.forEach((reward: StakingAssetRewards, rowIndex) => {\n    const quantity = quantityFn(reward.display_name);\n    const epochs = Object.keys(reward.epochs);\n\n    if (showOnlyOwned && quantity === 0) {\n      hidden += 1;\n      return false;\n    }\n\n    const row = [] as Array<number>;\n\n    epochs.forEach((epoch, colIndex) => {\n      const epochNo = parseInt(epoch, 10);\n      const canReceiveRewards = epochNo >= stakingFromEpoch + epochWaitPeriod;\n\n      const value = !canReceiveRewards\n        ? 0\n        : // Add 2 to account for name + quantity columns\n          calculationFn(\n            quantity,\n            reward,\n            epochNo,\n            rowIndex - hidden,\n            colIndex + 2,\n          );\n\n      row.push(value);\n    });\n\n    // Calculate totals\n    row.push(sum(row));\n\n    // Push rows to output array\n    output.push([reward.display_name, quantity, ...row]);\n  });\n  return output;\n};\n\nexport default function useStaking() {\n  const epochWaitPeriod = 4;\n  const { rewards, epochs } = reference as StakingReference;\n\n  const calculateStakingRewards = useCallback(\n    (\n      stakingFromEpoch: number,\n      showOnlyOwned: boolean,\n      quantityFn: Function,\n    ) => {\n      // Calculate total awards\n      const total = calculateRewards(\n        rewards,\n        stakingFromEpoch,\n        epochWaitPeriod,\n        showOnlyOwned,\n        quantityFn,\n        (quantity, reward, epochNo, rowIndex, colIndex) => {\n          return quantity * reward.epochs[epochNo];\n        },\n      );\n\n      // Calculate base\n      const base = calculateRewards(\n        rewards,\n        stakingFromEpoch,\n        epochWaitPeriod,\n        showOnlyOwned,\n        quantityFn,\n        (quantity, reward, epochNo, rowIndex, colIndex) => {\n          const totalColumnIndex = total[rowIndex].length - 2;\n          return quantity * total[rowIndex][totalColumnIndex];\n        },\n      );\n\n      // Calculate bonus\n      const bonus = calculateRewards(\n        rewards,\n        stakingFromEpoch,\n        epochWaitPeriod,\n        showOnlyOwned,\n        quantityFn,\n        (quantity, reward, epochNo, rowIndex, colIndex) => {\n          const epochsLeft = epochs.rewards.end - epochNo;\n          const bonusPercent = 100 * (0.2 * epochsLeft ** 0.5);\n          const bonusBase = base[rowIndex][colIndex];\n\n          return (bonusBase / 100) * bonusPercent;\n        },\n      );\n\n      // Remove asset name and quantity\n      // Really shouldn't add them on until we are done with numbers\n      // TODO:: Revisit this + adding prefixed columns\n      let totalRow = Array.from(total, ([...item]) => {\n        item.splice(0, 2);\n        return item;\n      });\n      const verticalTotals = sumVertically(totalRow);\n      totalRow = ['Total Rewards', null, ...verticalTotals];\n\n      return {\n        base,\n        bonus,\n        total,\n        totalRow,\n        totalRewards: totalRow.length > 2 ? totalRow[totalRow.length - 1] : 0,\n      };\n    },\n    [],\n  );\n\n  return {\n    calculateStakingRewards,\n    rewards,\n    epochs,\n  };\n}\n","import React from 'react';\n\ntype InputGroupProps = {\n  children: React.ReactNode;\n};\n\nexport default function InputGroup({ children }: InputGroupProps) {\n  return <div className=\"block md:flex items-center mb-5\">{children}</div>;\n}\n","import React, { useContext } from 'react';\nimport { rangeBetween } from '../../../../utils/math';\nimport { StakingContext } from '../../../context/staking';\nimport { useWallet } from '../../../context/wallet';\nimport useStaking from '../../../hooks/useStaking';\nimport { Checkbox, Input, Label, Select } from '../../atoms';\nimport InputGroup from '../../atoms/input-group';\n\nexport function AddressBar() {\n  const { setShowOnlyOwned, setStakingFromEpoch, stakingFromEpoch, showOnlyOwned } = useContext(StakingContext);\n  const { address, setAddress } = useWallet();\n  const { epochs } = useStaking();\n\n  const epochOptions = rangeBetween(epochs.kickoff.start, epochs.kickoff.end);\n\n  const handleOnChange = ({ target }) => {\n    setAddress(target.value);\n  }\n\n  const handleOnEpochChange = ({ target }) => {\n    setStakingFromEpoch(parseInt(target.value, 10));\n  }\n\n  const handleOnCheck = () => {\n    setShowOnlyOwned(!showOnlyOwned);\n  }\n\n  return (\n    <div className=\"md:flex mb-5\">\n      <div className=\"bg-stone-900 px-4 md:px-12 py-9 mb-5 rounded md:w-1/2 w-full md:mr-2\">\n        <InputGroup>\n          <Label>Enter Bech32 Address (Starts with <i>stake</i>)</Label>\n          <Input onChange={handleOnChange} onEnterPress={handleOnChange} value={address} />\n        </InputGroup>\n        <InputGroup>\n          <Label>When did you start staking?</Label>\n          <Select value={stakingFromEpoch} onChange={handleOnEpochChange} options={epochOptions} />\n        </InputGroup>\n      </div>\n      <div className=\"bg-stone-900 px-2 py-9 mb-5 rounded w-full md:w-1/2 md:ml-2\">\n        <InputGroup>\n          <Checkbox checked={showOnlyOwned} onChange={handleOnCheck} />\n          <Label className=\"md:w-full mr-6 text-left text-gray-300\">Only show owned NFT's</Label>\n        </InputGroup>\n      </div></div>\n  );\n}\n","import React from 'react';\n\ninterface TableProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableElement>,\n    HTMLTableElement\n  > {\n  children?: React.ReactNode\n}\n\nexport default function Table({ children, ...props }: TableProps) {\n  return (\n    <div className=\"overflow-x-auto mb-5\">\n      <table className=\" table-fixed min-w-full bg-stone-900 rounded-lg overflow-hidden mb-1\" {...props}>\n        {children}\n      </table>\n    </div>\n  );\n}\n\n\n","import React from 'react';\n\ninterface TableBodyProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLBodyElement>,\n    HTMLBodyElement\n  > {\n  children?: React.ReactNode\n}\n\nexport default function TBody({ children, ...props }: TableBodyProps) {\n  return (\n    <tbody className=\"\" {...props}>\n      {children}\n    </tbody>\n  );\n}\n\n\n","import React from 'react';\n\ninterface TableHeadProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableSectionElement>,\n    HTMLTableSectionElement\n  > {\n  children?: React.ReactNode\n}\n\nexport default function THead({ children, ...props }: TableHeadProps) {\n  return (\n    <thead {...props}>\n      {children}\n    </thead>\n\n  );\n}\n\n\n","import React from 'react';\n\ninterface TableRowProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableRowElement>,\n    HTMLTableRowElement\n  > {\n  children?: React.ReactNode\n}\nexport default function HeadTr({ children, ...props }: TableRowProps) {\n  return (\n    <tr className=\"rounded-l-lg mb-2 border-grey-light border-b\" {...props}>\n      {children}\n    </tr>\n  );\n}\n\n\n\n\n\n","import React from 'react';\n\ninterface TableBodyRowProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableRowElement>,\n    HTMLTableRowElement\n  > {\n  children?: React.ReactNode\n}\nexport default function BodyTr({ children, ...props }: TableBodyRowProps) {\n  return (\n    <tr className=\"mb-2 hover:bg-stone-800 border-grey-light border-b\" {...props}>\n      {children}\n    </tr>\n  );\n}\n\n\n","import React from 'react';\n\ninterface TableHeaderProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableCellElement>,\n    HTMLTableCellElement\n  > {\n  children?: React.ReactNode\n}\nexport default function Th({ children, ...props }: TableHeaderProps) {\n  return (\n    <th className=\"p-3 text-left\" {...props}>\n      {children}\n    </th>\n  );\n}\n\n\n","import React from 'react';\n\ninterface TableCellProps\n  extends React.DetailedHTMLProps<\n    React.TableHTMLAttributes<HTMLTableCellElement>,\n    HTMLTableCellElement\n  > {\n  children?: React.ReactNode\n}\n\nexport default function Td({ children, ...props }: TableCellProps) {\n  return (\n    <td className=\"hover:bg-stone-700 p-3\" {...props}>{children}</td>\n  )\n}\n\n\n","import React from 'react';\n\nimport { Table, TBody, TBodyTr, Td, Th, THead, THeadTr } from '../../atoms/table';\n\ntype SimpleTableProps = {\n  headers?: Array<any>,\n  body?: Array<Array<any>>,\n  children?: Function,\n  loading?: boolean\n};\n\nexport default function SimpleTable({ headers, children, body, loading }: SimpleTableProps) {\n\n  const placeholder = () => {\n    const array = [...Array(5)].map(e => new Array(headers?.length ?? 5).fill(null));\n\n    return array.map((row, index) => (\n      <TBodyTr key={index}>\n        {\n          row.map((value, rIndex) => (\n            <Td className=\"animate-pulse\" key={rIndex}>\n              <span className=\"block p-5 bg-stone-800\"></span>\n            </Td>\n          ))}\n      </TBodyTr>\n    ));\n  }\n\n  return (\n    <Table>\n      {headers && <THead>\n        <THeadTr>\n          {\n            headers.map((header, index) => (\n              <Th key={index}>\n                {header}\n              </Th>\n            ))\n          }\n        </THeadTr>\n      </THead>}\n      <TBody>\n        {\n          loading ? placeholder() :\n            body && body.map((row, index) => (\n              <TBodyTr key={index}>\n                {row.map((value, index) => <Td key={index}>{children ? children(value, index) : value}</Td>)}\n              </TBodyTr>\n            ))\n        }\n      </TBody>\n    </Table>\n  )\n}","import React from 'react';\nimport classNames from 'classnames';\nimport { HeaderProps } from './header-props';\n\nexport default function Heading({ children, center = false, level = 1 }: HeaderProps) {\n  const classes = classNames({\n    'font-medium leading-tight mt-0 mb-5': true,\n    'text-4xl': level === 1,\n    'text-3xl': level === 2,\n    'text-2xl': level === 3,\n    'text-xl': level === 4,\n    'text-center': center\n  });\n\n  const Tag = `h${level}` as keyof JSX.IntrinsicElements;\n\n  return (\n    <Tag className={classes}>\n      {children}\n    </Tag>\n  );\n}\n","import React, { useContext } from 'react';\n\nimport useStaking from '../hooks/useStaking';\nimport { useWallet } from '../context/wallet';\nimport { rangeBetween, round } from '../../utils/math';\n\nimport { AddressBar } from '../UI/organisms';\nimport { StakingContext } from '../context/staking';\nimport SimpleTable from '../UI/molecules/simple-table';\nimport { Heading } from '../UI/atoms/headings';\nimport { Alert } from '../UI/atoms';\nimport { Type } from '../UI/atoms/alert';\n\nfunction NFTStaking() {\n  const { stakingFromEpoch, showOnlyOwned } = useContext(StakingContext);\n  const { calculateStakingRewards, epochs } = useStaking();\n  const { countNftsByName, nfts, loading } = useWallet();\n  const { total, base, bonus, totalRow, totalRewards } = calculateStakingRewards(stakingFromEpoch, showOnlyOwned, countNftsByName);\n\n  const headers = ['Asset Name', 'Quantity Staked', ...(rangeBetween(epochs.rewards.start, epochs.rewards.end)), \"Total\"];\n\n  return (\n    <div className=\"container mx-auto\">\n      <Heading level={2} center>Rewards Estimator <span className=\"italic\">(NFT Rewards Only)</span></Heading>\n      <Alert type={Type.warning}>\n        DISCLAIMER: This calculator assumes all assets in wallet were delegated in the same epoch. If your assets were delegated in different epochs, you must calculate those separately\n      </Alert>\n\n      <AddressBar />\n\n      <Heading level={3}>\n        <span className=\"md:flex md:justify-between\">\n          <span className=\"w-full block mb-2 md:mb-0 md:w-auto md:flex-initial\">Total Rewards</span>\n          <span className=\"text-xl w-full block md:w-auto md:flex-initial\">Total COPI Rewards for staked land NFTs: {round(totalRewards, 1)}</span>\n        </span>\n      </Heading>\n      <SimpleTable loading={loading} headers={headers} body={[totalRow, ...total]}>\n        {(value, index) => index > 1 ? round(value, 1).toFixed(1) : value}\n      </SimpleTable>\n      <div className='p-5'></div>\n\n      <Heading level={3}>Base Rewards</Heading>\n      <SimpleTable loading={loading} headers={headers} body={base}>\n        {(value, index) => index > 1 ? value.toFixed(1) : value}\n      </SimpleTable>\n      <div className='p-5'></div>\n\n      <Heading level={3}>Bonus Rewards</Heading>\n      <SimpleTable loading={loading} headers={headers} body={bonus}>\n        {(value, index) => index > 1 ? round(value, 1).toFixed(1) : value}\n      </SimpleTable>\n    </div>\n  );\n}\n\nexport default NFTStaking;\n"],"names":["Input","props","onEnterPress","onChange","onKeyDown","handleKeyPress","evt","key","DebounceInput","Select","options","map","option","value","label","Label","children","Type","warning","success","Alert","type","title","containerClasses","classNames","iconClasses","_jsx","_jsxs","round","method","number","precision","isRoundingAndNegative","power","result","roundTo","decimals","rangeBetween","start","end","range","i","sum","array","a","b","sumVertically","r","calculateRewards","rewards","stakingFromEpoch","epochWaitPeriod","showOnlyOwned","quantityFn","calculationFn","hidden","output","reward","rowIndex","quantity","epochs","row","epoch","colIndex","epochNo","useStaking","reference","useCallback","total","base","totalColumnIndex","bonus","epochsLeft","bonusPercent","totalRow","item","verticalTotals","InputGroup","AddressBar","setShowOnlyOwned","setStakingFromEpoch","useContext","StakingContext","address","setAddress","useWallet","epochOptions","kickoff","handleOnChange","target","parseInt","Checkbox","handleOnCheck","Table","TBody","THead","HeadTr","BodyTr","Th","Td","SimpleTable","headers","body","loading","placeholder","Array","e","length","fill","index","TBodyTr","rIndex","THeadTr","header","Heading","center","level","classes","Tag","NFTStaking","calculateStakingRewards","countNftsByName","nfts","totalRewards","toFixed"],"mappings":"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"}